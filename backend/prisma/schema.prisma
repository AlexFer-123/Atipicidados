generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Gerente {
  id         Int       @id @default(autoincrement())
  nome       String
  cpf        String       @unique
  rg         String      @unique
  email      String    @unique
  telefone   String    @unique
  raca       Raca
  unidadeId  Int
  unidade    Unidade   @relation(fields: [unidadeId], references: [id])
  rgdocfile      String?
  fotofile       String?
  compresfile    String?
}

model Colaborador {
  id          Int        @id @default(autoincrement())
  nome        String   
  cpf         String        @unique
  rg          String        @unique
  nascimento  DateTime
  telefone    String     @unique
  titulo      String
  formacao    String
  genero      Genero
  raca        Raca
  unidadeId   Int
  unidade     Unidade        @relation(fields: [unidadeId], references: [id])
  pacientes   Paciente[]     @relation("PacienteColaboradores")
  rgdocfile      String?
  fotofile       String?
  compresfile    String?
}

model Paciente {
  id             Int           @id @default(autoincrement())
  nome           String  
  cpf            String
  rg             String
  nomemae        String
  nomepai        String 
  unidadeId      Int
  rgdocfile      String
  fotofile       String
  compresfile    String
  laudofile      String
  geralfile      String
  educacaofile   String
  saudefile      String
  gestacaofile   String
  nascimentofile String
  autonomiafile  String
  comportamentofile   String
  desenvolimentofile  String
  pedagogicofile String
  raca           Raca
  unidade        Unidade        @relation(fields: [unidadeId], references: [id])
  colaboradores  Colaborador[]  @relation("PacienteColaboradores")
}

model Unidade {
  id            Int           @id @default(autoincrement())
  endereco      String
  pacientes     Paciente[]
  colaboradores Colaborador[]
  gerentes      Gerente[]
}

enum Raca {
  BRANCA
  NEGRA
  AMARELA
  INDIGENA
  OUTRA
}

enum Genero {
  MASCULINO
  FEMININO
  PREFIRO_NAO_INFORMAR
}
